<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.together.web.posts.IPostMemberDAO">

	<select id="travelLists" resultType="com.together.web.posts.TravelDTO">
		select TO_CHAR(t.t_start,'YYYY-MM-DD') as t_start,TO_CHAR(t.t_end,'YYYY-MM-DD') as t_end
		FROM travel t right join
		(select writercode,writername,usercode from
		view_writer where usercode = #{sessionId}) w
		on t.writercode= w.writercode
	</select>


	<select id="memberLists"
		resultType="com.together.web.posts.MemberDTO">
		select TO_CHAR(t.t_start,'YYYY-MM-DD') as t_start,TO_CHAR(t.t_end,'YYYY-MM-DD') as t_end
		FROM member m right join
		(select usercode,name,nickname from tbl_user where usercode= #{sessionId}) w
		on m.usercode= w.usercode
		left join travel t
		on t.travelcode= m.travelcode
		where m.ready_typecode=1
	</select>

</mapper>

